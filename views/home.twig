{% extends "html.twig" %}
{% set title = "home" %}

{% block content %}
{% set randomhis = [
"hello", "hola", "bonjour", "hallo", "ciao", "olá", "hallo", "здравствуйте", "你好", "こんにちは", "안녕하세요", "مرحباً", "नमस्ते", "jambo", "merhaba", "γειά σας", "שלום", "hej", "hei", "hei", "hej", "cześć", "helló", "xin chào", "สวัสดี", "سلام", "salut", "ahoj", "নমস্কার", "привіт", "kumusta", "hai", "dia dhuit", "halò", "halló", "labas", "tere", "bok", "здравейте", "здраво", "hello", "ahoj", "sveiki", "გამარჯობა", "नमस्ते", "բարև", "ہیلو", "bawo ni", "sawubona", "helo",
] %}
{% set randomhi = randomhis|shuffle[0] %}
<div class="d-flex flex-column flex-wrap gap-2">
  <div class="d-flex flex-row gap-6 ai-center flex-1">
    <div class="pos-relative">
    <img class="round-4" height=128 src="/assets/img/placeholder_avatar-closeup.png">
    {% if cuser.is_online %}<i class="pos-absolute icon-online bottom-0 right-0 p-2" style="transform: translate(25%, 25%);"></i>{% endif %}
    </div>
    <h2>{{ randomhi }}, {{ cuser.username }}</h2>
  </div>
  <hr class="mt-3 mb-2">
  <div class="d-flex flex-row"><h3>{{ t.home.friends }} ({{ friends|length }})</h3> <a class="btn-primary ms-auto">{{ t.home.see_all }}</a></div>
    {% if friends|length == 0 %}
      <div class="d-flex flex-column ai-center gap-2 p-2">
      <h1 style="font-size: 4em;" class="bi bi-egg-fried"></h1>
      <h4>no friends found</h4>
      <small class="text-muted">heres a fried egg for you</small>
      </div>
    {% else %}
      <div class="d-grid pb-2" style="grid-auto-flow: column; gap: 0.75em; grid-auto-columns: 101.883px; width: 100%; overflow-x: scroll;">
      {% for friend in friends %}
      <a href="/users/{{ friend.id }}/profile" class="d-flex flex-column" style="align-items: center; padding: 0; margin-top: 0.3em;">
        <div class="img-fluid pos-relative">
          <img src="/assets/img/placeholder_avatar-closeup.png" class="round-4 img-fluid">
          {% if friend.is_online %}<i class="pos-absolute icon-online bottom-0 right-0" style="transform: translate(25%, 25%);"></i>{% endif %}
        </div>
        <div class="d-flex flex-column border-box m-1 my-0 text-center"><h5 class="text-muted text-truncate">{{ friend.username|truncate(11, "…") }}</h5>
        {#<small class="text-extramuted mt-1 s"><b class="breakword">{{ "something"|truncate(11, "…") }}</b></small>#} {# to implement #}</div>
      </a>
      {% endfor %}
      </div>
    {% endif %}
  <hr class="mt-3 mb-2">
  <div class="d-flex flex-row"><h3>{{ t.home.recently_played }}</h3> <a class="btn-primary ms-auto">{{ t.home.see_all }}</a></div>
  <div class="d-grid pb-2" style="grid-auto-flow: column; gap: 0.75em; grid-auto-columns: 139.233px; width: 100%; overflow-x: scroll;">
    {% for i in 1..6 %}
    <a href="/game/{{i}}/name" class="d-flex flex-column" style="overflow: hidden; padding: 0; margin-top: 0.3em;">
      <div class="img-fluid pos-relative">
        <img src="/assets/img/crossroads.png" class="round-4 img-fluid">
      </div>
      <div class="d-flex flex-column border-box m-1 my-0"><h5 class="text-muted breakword text-truncate">Crossrgggggggggggggggggggggoads</h5>
        <span class="d-flex flex-row gap-3 ai-center text-extramuted mt-1"><i class="bi bi-people"></i> <b class="breakword">1 playing</b></span>
      </div>
      </a>
      {% endfor %}
  </div>
</div>
{% endblock %}